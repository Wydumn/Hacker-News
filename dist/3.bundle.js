(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ "./app/components/PostMetaInfo.js":
/*!****************************************!*\
  !*** ./app/components/PostMetaInfo.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PostMetaInfo; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _contexts_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/theme */ \"./app/contexts/theme.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/helpers */ \"./app/utils/helpers.js\");\n\n\n\n\n\nfunction PostMetaInfo(_ref) {\n  var by = _ref.by,\n      time = _ref.time,\n      id = _ref.id,\n      descendants = _ref.descendants;\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_contexts_theme__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n      theme = _useContext.theme;\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"meta-info-\".concat(theme)\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"by \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], {\n    to: \"/user?id=\".concat(by)\n  }, by)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"on \", Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_4__[\"formatDate\"])(time)), typeof descendants === 'number' && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"with \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Link\"], {\n    to: \"/post?id=\".concat(id)\n  }, descendants), \"comments\"));\n}\nPostMetaInfo.propTypes = {\n  by: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,\n  time: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,\n  descendants: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number\n};\n\n//# sourceURL=webpack:///./app/components/PostMetaInfo.js?");

/***/ }),

/***/ "./app/components/PostsList.js":
/*!*************************************!*\
  !*** ./app/components/PostsList.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PostsList; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _PostMetaInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PostMetaInfo */ \"./app/components/PostMetaInfo.js\");\n/* harmony import */ var _Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Title */ \"./app/components/Title.js\");\n\n\n\n\nfunction PostsList(_ref) {\n  var posts = _ref.posts;\n\n  if (posts.length === 0) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      className: \"center-text\"\n    }, \"This user hasn't posted yet\");\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, posts.map(function (post) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n      key: post.id,\n      className: \"post\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Title__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      url: post.url,\n      title: post.title,\n      id: post.id\n    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PostMetaInfo__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      by: post.by,\n      time: post.time,\n      id: post.id,\n      descendants: post.descendants\n    }));\n  }));\n}\nPostsList.propTypes = {\n  posts: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array\n};\n\n//# sourceURL=webpack:///./app/components/PostsList.js?");

/***/ }),

/***/ "./app/components/Title.js":
/*!*********************************!*\
  !*** ./app/components/Title.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Title; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n\n\n\nfunction Title(_ref) {\n  var url = _ref.url,\n      title = _ref.title,\n      id = _ref.id;\n  return url ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n    className: \"link\",\n    href: url\n  }, title) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n    className: \"link\",\n    to: \"/post?id=\".concat(id)\n  }, title);\n}\nTitle.propTypes = {\n  url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number\n};\n\n//# sourceURL=webpack:///./app/components/Title.js?");

/***/ }),

/***/ "./app/components/User.js":
/*!********************************!*\
  !*** ./app/components/User.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Post; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Loading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Loading */ \"./app/components/Loading.js\");\n/* harmony import */ var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helpers */ \"./app/utils/helpers.js\");\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/api */ \"./app/utils/api.js\");\n/* harmony import */ var _PostsList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PostsList */ \"./app/components/PostsList.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nfunction fetchReducer(state, action) {\n  if (action.type === 'user') {\n    return _objectSpread({}, state, {\n      user: action.user,\n      loadingUser: false\n    });\n  }\n\n  if (action.type === 'posts') {\n    return _objectSpread({}, state, {\n      posts: action.posts,\n      loadingPosts: false,\n      error: null\n    });\n  }\n\n  if (action.type === 'failure') {\n    return _objectSpread({}, state, {\n      loadingUser: false,\n      loadingPosts: false,\n      error: action.message\n    });\n  }\n}\n\nvar initialState = {\n  user: null,\n  loadingUser: true,\n  posts: null,\n  loadingPosts: true,\n  error: null\n};\nfunction Post(_ref) {\n  var location = _ref.location;\n\n  var _queryString$parse = query_string__WEBPACK_IMPORTED_MODULE_1___default.a.parse(location.search),\n      id = _queryString$parse.id;\n\n  var _useReducer = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useReducer\"])(fetchReducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var user = state.user,\n      posts = state.posts,\n      loadingUser = state.loadingUser,\n      loadingPosts = state.loadingPosts,\n      error = state.error;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    Object(_utils_api__WEBPACK_IMPORTED_MODULE_4__[\"fetchUser\"])(id).then(function (user) {\n      dispatch({\n        type: 'user',\n        user: user\n      });\n      return Object(_utils_api__WEBPACK_IMPORTED_MODULE_4__[\"fetchPosts\"])(user.submitted.slice(0, 30));\n    }).then(function (posts) {\n      dispatch({\n        type: 'posts',\n        posts: posts\n      });\n    })[\"catch\"](function (_ref2) {\n      var message = _ref2.message;\n      dispatch({\n        type: 'failure',\n        message: message\n      });\n    });\n  }, [id]);\n\n  if (error) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      className: \"center-text error\"\n    }, error);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, loadingUser === true ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loading__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    text: \"Fetching User\"\n  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n    className: \"header\"\n  }, user.id), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"meta-info-light\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"joined \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__[\"formatDate\"])(user.created))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"has \", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, user.karma.toLocaleString()), \" karma\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: user.about\n    }\n  })), loadingPosts === true ? loadingUser === false && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loading__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    text: \"Fetching posts\"\n  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", null, \"Posts\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PostsList__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    posts: posts\n  })));\n}\n\n//# sourceURL=webpack:///./app/components/User.js?");

/***/ }),

/***/ "./app/utils/api.js":
/*!**************************!*\
  !*** ./app/utils/api.js ***!
  \**************************/
/*! exports provided: fetchItem, fetchComments, fetchMainPosts, fetchUser, fetchPosts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchItem\", function() { return fetchItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchComments\", function() { return fetchComments; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchMainPosts\", function() { return fetchMainPosts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchUser\", function() { return fetchUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchPosts\", function() { return fetchPosts; });\nvar api = \"https://hacker-news.firebaseio.com/v0\";\nvar json = '.json?print=pretty';\n\nfunction removeDead(posts) {\n  return posts.filter(Boolean).filter(function (_ref) {\n    var dead = _ref.dead;\n    return dead !== true;\n  });\n}\n\nfunction removeDeleted(posts) {\n  return posts.filter(function (_ref2) {\n    var deleted = _ref2.deleted;\n    return deleted !== true;\n  });\n}\n\nfunction onlyPosts(posts) {\n  return posts.filter(function (_ref3) {\n    var type = _ref3.type;\n    return type === 'story';\n  });\n}\n\nfunction onlyComments(posts) {\n  return posts.filter(function (_ref4) {\n    var type = _ref4.type;\n    return type === 'comment';\n  });\n}\n\nfunction fetchItem(id) {\n  return fetch(\"\".concat(api, \"/item/\").concat(id).concat(json)).then(function (res) {\n    return res.json();\n  });\n}\nfunction fetchComments(ids) {\n  return Promise.all(ids.map(fetchItem)).then(function (comments) {\n    return removeDeleted(onlyComments(removeDead(comments)));\n  });\n}\nfunction fetchMainPosts(type) {\n  return fetch(\"\".concat(api, \"/\").concat(type, \"stories\").concat(json)).then(function (res) {\n    return res.json();\n  }).then(function (ids) {\n    if (!ids) {\n      throw new Error(\"There was an error fetching the \".concat(type, \" posts.\"));\n    }\n\n    return ids.slice(0, 50);\n  }).then(function (ids) {\n    return Promise.all(ids.map(fetchItem));\n  }).then(function (posts) {\n    return removeDeleted(onlyPosts(removeDead(posts)));\n  });\n}\nfunction fetchUser(id) {\n  return fetch(\"\".concat(api, \"/user/\").concat(id).concat(json)).then(function (res) {\n    return res.json();\n  });\n}\nfunction fetchPosts(ids) {\n  return Promise.all(ids.map(fetchItem)).then(function (posts) {\n    return removeDeleted(onlyPosts(removeDead(posts)));\n  });\n}\n\n//# sourceURL=webpack:///./app/utils/api.js?");

/***/ }),

/***/ "./app/utils/helpers.js":
/*!******************************!*\
  !*** ./app/utils/helpers.js ***!
  \******************************/
/*! exports provided: formatDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDate\", function() { return formatDate; });\nfunction formatDate(timestamp) {\n  return new Date(timestamp * 1000).toLocaleDateString(\"ZH-CN\", {\n    hour: 'numeric',\n    minute: 'numeric'\n  });\n}\n\n//# sourceURL=webpack:///./app/utils/helpers.js?");

/***/ })

}]);